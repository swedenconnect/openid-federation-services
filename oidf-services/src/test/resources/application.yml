management:
  endpoints:
    web:
      exposure:
        include: "*"
  endpoint:
    health:
      show-details: always
  prometheus:
    metrics:
      export:
        enabled: true
credential:
  bundles:
    keystore:
      sign-key-store:
        location: classpath:signkey.p12
        password: changeit
        type: JKS
      sign-key-store-2:
        location: classpath:signkey-2.p12
        password: changeit
        type: JKS
    jks:
      sign-key-1:
        store-reference: sign-key-store
        name: "Sign key 1"
        key:
          alias: 1
          key-password: changeit
      sign-key-2:
        store-reference: sign-key-store-2
        name: "Sign key 2"
        key:
          alias: 1
          key-password: changeit
spring:
  data:
    redis:
      host: localhost
  application:
    name: test-federation-services
  ssl:
    bundle:
      jks:
        oidf-internal:
          truststore:
            location: classpath:certificates/truststore.p12
            password: changeit
            type: PKCS12
server:
  compression:
    enabled: true
  port: 11111
logging:
  level:
    ROOT: INFO
    se.swedenconnect: DEBUG

federation:
  keys:
    kid-algorithm: serial
    additional-keys:
      - name: blue
        base64-encoded-public-jwk: ewogICAgICAgICJhbGciOiAiRVM1MTIiLAogICAgICAgICJjcnYiOiAiUC01MjEiLAogICAgICAgICJraWQiOiAiQjRkbGU1ajJYT19yLXZsdG9qSDB6X0FHTEhUSjVTamR0di04MDA1YzRMNCIsCiAgICAgICAgImt0eSI6ICJFQyIsCiAgICAgICAgInVzZSI6ICJzaWciLAogICAgICAgICJ4IjogIkFJMXRINm5qRlRBT1hiVDFQVkp3QS1VaWh1R3dwdk5HX1BYWm50R1lIM0o4QzFDcjd2MmZiVkxyM1l4VnR3bW10cGZsZWVoN3dxUWtndWdRWm1iVjV6T3kiLAogICAgICAgICJ5IjogIkFFdTNoa1NycTVHZVN5ZW5rUkxfR180QkJlVXRpLXV5ZDVOQzBiZmlkYlR2VnBkdXZVTHVHSGV2QXRZUUFmUnJYYTlOekFkTHVJQkFpbWFXbWNlLTBmc2wiCiAgICAgIH0K
  service:
    storage: redis
    redis:
      key-name: 4860ae57-9716-492b-951c-2a8c334f790a
  routing:
    enabled: true
    mode: IGNORING
  resolver:
    client:
      trust-store-bundle-name: oidf-internal
      name: resolver
  registry:
    integration:
      enabled: true
      instance-id: 4860ae57-9716-492b-951c-2a8c334f790a
      client:
        base-uri: https://registry.local.swedenconncet.se
        trust-store-bundle-name: oidf-internal
        name: registry-client
      validation-keys: "alias:sign-key-1"

  local-registry:
    resolvers: "classpath:testresolvers.json"
    trust-anchors: "classpath:testtrustanchors.json"
    trust-mark-issuers: "classpath:testtrustmarkissuers.json"
    entities: "classpath:testfederation.json"
